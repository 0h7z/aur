# Maintainer: Heptazhou <zhou at 0h7z dot com>

pkgname_=libcurl
pkgname=$pkgname_-julia
pkgver=1.10
pkgrel=1
pkgdesc="command line tool and library for transferring data with URLs - Julia fork"
arch=("x86_64")
url="https://julialang.org/"
license=("MIT")
depends=("julia")
options=(!debug)
source_="julia-$pkgver-latest-linux-x86_64.tar.gz"
source=("https://julialang-s3.julialang.org/bin/linux/x64/$pkgver/$source_"
	"$pkgname-update.hook"
	"$pkgname-remove.hook"
)
sha256sums=("SKIP"
	"e4f1f67b67951c1bbea98407731858d78d7ad82f6ffc80d3346b7f462e67017b"
	"cb4d300baf35972d935a85b26fb2d918e4bfb178d09df883c96bbe83dcd7819f"
)
# https://julialang-s3.julialang.org/bin/versions.json

package() {
	cd -- "$srcdir/julia"-*/

	mkdir "$pkgdir/usr/lib/julia/" -p
	cp -t "$pkgdir/usr/lib/julia/" -a "lib/julia/$pkgname_.so.4"*
	install -Dm644 -t "$pkgdir/usr/share/libalpm/hooks/" "$srcdir/$pkgname"-*.hook
}
